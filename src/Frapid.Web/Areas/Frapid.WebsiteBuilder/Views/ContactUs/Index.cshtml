@using Frapid.WebsiteBuilder.ViewModels
@model  Frapid.WebsiteBuilder.ViewModels.ContactUs

@{
    ViewBag.Token = Model.Token;
    ViewBag.Title = Model.Title;
    Layout = ViewBag.LayoutPath + ViewBag.Layout;
    ViewBag.LayoutPath = ViewBag.LayoutPath;
}
<link rel="stylesheet" href="/bundles/master-page.css" />

<div id="section" class="ui basic padded signup left aligned segment">
    <div class="ui container">
        <div class="ui grey huge header">Contact Us</div>
        <div class="ui divider"></div>
        <div class="ui two column stackable grid">
            @foreach (var item in Model.Contacts)
            {
                <div class="column">
                    <div class="ui teal big header">
                        @item.Title

                        @if (!string.IsNullOrWhiteSpace(item.Name))
                        {
                            <div class="sub header">
                                @item.Name
                            </div>
                        }
                    </div>
                    <div>
                        @if (!string.IsNullOrWhiteSpace(item.Position))
                        {
                            @item.Position
                        }
                        @if (!string.IsNullOrWhiteSpace(item.Address))
                        {
                            <br/>
                            @item.Address
                        }

                        @if (!string.IsNullOrWhiteSpace(item.City))
                        {
                            <br/>
                            @item.City
                        }
                        @if (!string.IsNullOrWhiteSpace(item.State))
                        {
                            @item.State
                        }
                        @if (!string.IsNullOrWhiteSpace(item.Country))
                        {
                            @item.Country
                        }
                        @if (!string.IsNullOrWhiteSpace(item.PostalCode))
                        {
                            <br/><em>Postal Code:</em>
                            @item.PostalCode
                        }
                        <br/>
                        <br/>

                        @if (!string.IsNullOrWhiteSpace(item.Telephone))
                        {
                            <strong>Telephone:</strong>
                            @item.Telephone
                        }
                        @if (!string.IsNullOrWhiteSpace(item.PostalCode))
                        {
                            <br/><strong>Postal Code:</strong>
                            @item.PostalCode
                        }
                        @if (!string.IsNullOrWhiteSpace(item.Email) && item.DisplayEmail)
                        {
                            <br/><strong>Email:</strong>
                            <a href="mailto:@item.Email">@item.Email</a>
                        }
                        @if (!string.IsNullOrWhiteSpace(item.Details))
                        {
                            @Html.Raw(item.Details)
                        }
                    </div>

                    @if (item.DisplayContactForm && !string.IsNullOrWhiteSpace(item.Email))
                    {
                        <br/>
                        <button class="ui teal button" onclick="showContactForm(this)">Send Email</button>
                        @Html.Partial("~/Areas/Frapid.WebsiteBuilder/Views/ContactUs/ContactForm.cshtml", new ContactForm())
                    }

                </div>
            }
        </div>
    </div>
</div>

<script>
    function showContactForm(el) {
        el = $(el);
        el.siblings(".ui.contact.form").slideDown(200);
        el.remove();
    };
</script>